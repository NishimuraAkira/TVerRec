# tverrec - TVerビデオダウンローダ -
本ツールは、powershellのスクリプトで書かれた動画配信サイトのTver専用の動画ダウンローダです。
動画を1本ずつ指定してダウンロードするのではなく、動画のジャンルや出演タレントを指定して一括ダウンロードします。
ループ実行するようになっているので、1回起動すれば新しい番組が配信される都度ダウンロードされるようになります。
動作に必要なchromedriverやffmpegなどの必要コンポーネントは自動的に最新版がダウンロードされます。


## 前提条件
windows10で動作確認していますが、おそらくWindows7、8でも動作します。
PowerShellはMacOSX、Linuxにも移植されてるのでメインの機能は動作するかもしれません。
一部の機能はWindowsを前提に作られているので改変なしでは動作しません。(chromedriverの自動更新機能など)


## 実行方法
使い方は非常に簡単です。以下の手順でバッチファイルを実行してください。
1.  本ツールのzipファイルをダウロードし、任意のディレクトリで解凍してください。

1.  Windows環境では start_tverrec.bat を実行してください。
1.1.  処理が完了しても10分ごとに永遠にループして稼働し続けます。
1.1.  もしくは、ps1ファイルをPowerShellにを関連付けして、tverrec_bulk.ps1をクリックで起動。
1.1.  上記でPowerShellが起動しない場合は、PowerShell の実行ポリシーの変更する必要があるかもしれません。https://bit.ly/32HAwOK を参照してRemoteSignedなどに変更してください。

1.  start_tverrec.bat で起動した場合は、stop_tverrec.bat で停止できます。
1.1.  関連するダウンロード処理もすべて強制停止されるので注意してください。
1.1.  ダウンロードを止めたくない場合は、tverecのウィンドウを「X」ボタンで閉じてください。


## 設定内容
個別の設定はテキストエディタで変更する必要があります。

### 動作環境の設定方法
- config/user_setting.ini をテキストエディターで開いてユーザ設定を行ってください。

### ダウンロード対象のジャンルの設定方法
- config/keyword.ini をテキストエディターで開いてダウンロード対象のジャンルを設定します。
    - 不要なジャンルは # でコメントアウトしてください。
    - ジャンルは網羅しているつもりですが、不足があるかもしれません。

### ダウンロード対象外の番組の設定方法
- config/ignore.ini をテキストエディターで開いてダウンロードしたくない番組名を設定します。
    - ジャンル指定でダウンロードすると不要な番組もまとめてダウンロードされるので、個別にダウンロード対象外に指定できます。


## おすすめの使い方
- tverrecはクリップボードを使って動作します。
  tverrec動作中はクリップボードを使えなくなるため、別ユーザを作ってtverrec専用に割り当てるのがおすすめです。

- 別ユーザを作れない場合は、tverrec用のChromeのユーザプロファイルを作成して、tveerec動作中もChromeでのブラウジングをできるようにするのがおすすめです。

- TVerのカテゴリ毎のページを指定して start_tverrec.bat で起動すれば、新しい番組が配信されたら自動的にダウンロードされるようになります。

- 同様に、フォローしているタレントページを指定してstart_tverrec.bat で起動すれば、新しい番組が配信されたら自動的にダウンロードされるようになります。

- 同様に、各放送局毎のページを指定してstart_tverrec.batで起動すれば、新しい番組が配信されたら自動的にダウンロードされるようになります。


## アンインストール方法
- レジストリは一切使っていないでの、不要になったらゴミ箱に捨てれば良いです。


## 注意事項
- 解像度の指定はできません。
    - 解像度はブラウザで再生するのと同じで回線によって自動で決定します。

- 動作中はクリップボードを使用できません。
    - 本ツールはクリップボードを使って機能間のデータ連携をしています。ツールの動作中にクリップボードを使用すると、ダウンロードに失敗したり動作が重くなることがあります。

- 著作権について
    - このプログラムの著作権は dongaba が保有しています。

- 事故、故障など
    - 本ツールを使用して起こった何らかの事故、故障などの責任は負いかねますので、ご使用の際はこのことを承諾したうえでご使用ください。


## ライセンス
- 本ツールはApache License, Version 2.0のライセンス規約(http://www.apache.org/licenses/LICENSE-2.0 )に基づき、複製や再配布、改変が許可されます。
- 本ツールはApache License, Version 2.0のライセンスで配布されている成果物を含んでいます。
    - WebDriver.dll version 3.14.0
    - WebDriver.Support.dll version 3.14.0
    - Selenium.WebDriverBackedSelenium.dll version 3.14.0

Copyright(c) 2021 dongaba All Rights Reserved.
This software is released under the Apache License, Version 2.0, see ./LICENSE.
